# ğŸš€ **AdonisJS - CRUD** 

Este projeto Ã© a implementaÃ§Ã£o de um **CRUD completo** utilizando o AdonisJs e Mysql

### ğŸ› ï¸ **Destaques do Projeto**
- **ğŸš€ IntegraÃ§Ã£o com Docker**: Ambiente de desenvolvimento fÃ¡cil de configurar com Docker.
- **ğŸ”’ Testes de IntegraÃ§Ã£o**: Testes de integraÃ§Ã£o que validam o funcionamento das rotas e a interaÃ§Ã£o entre os componentes.
- **ğŸ“¦ DTOs**: UtilizaÃ§Ã£o de **Data Transfer Objects** (DTOs) para garantir que os dados sejam manipulados de forma segura e eficiente.
- **âš¡ Alternativa ao `try/catch`**: ImplementaÃ§Ã£o do **ResultWrapper** para tratamento de erros, simplificando a manutenÃ§Ã£o e tornando o cÃ³digo mais limpo e previsÃ­vel.

### ğŸ’¡ **Objetivo**
Embora o principal objetivo seja configurar um simples CRUD, tento deixar esse projeto o mais completo possÃ­vel, incluindo features
que tornam a aplicaÃ§Ã£o mais preparada para resolver problemas reais


---

## Requisitos

Para executar a aplicaÃ§Ã£o Ã© necessÃ¡rio que as seguintes ferramentas esttejam instaladas:

- [Docker](https://www.docker.com/): Para executar os contÃªineres da aplicaÃ§Ã£o e banco de dados.
- [Docker Compose](https://docs.docker.com/compose/): Para orquestrar os contÃªineres.
- **(Opcional)** [Node.js](https://nodejs.org/): Caso queira rodar a aplicaÃ§Ã£o localmente fora do Docker.

---

## Como executar a aplicaÃ§Ã£o

### Ambiente de Desenvolvimento

Para rodar a aplicaÃ§Ã£o em desenvolvimento:

1. Clone este repositÃ³rio:
   ```bash
   git clone https://github.com/Fernando-hub527/Teste-tecnico_adonisJs.git
   cd Teste-tecnico_adonisJs 
   ```
2. Inicie os contÃªineres:
    ```bash
    docker-compose up -d
    ```
2. Testes os endpoints da aplicaÃ§Ã£o:
    ```bash
    URL: http://localhost:3333
    ```

### Rodando os Testes

1. Inicie os contÃªineres:
    ```bash
    docker-compose up -d
    ```
2. Execute os testes com o comando:
    ```bash
    sudo docker exec -it adonis-app node ace test
    ```

## ğŸ“š Rotas da AplicaÃ§Ã£o

Abaixo estÃ¡ a lista de rotas disponÃ­veis na aplicaÃ§Ã£o, organizadas por recurso. Todas as rotas (exceto login e criaÃ§Ã£o de usuÃ¡rio) exigem um token de autenticaÃ§Ã£o.

### ğŸ§‘â€ğŸ’¼ Clientes (`/api/v1/client`)

| MÃ©todo  | Rota                  | DescriÃ§Ã£o                 | Middleware |
|---------|-----------------------|---------------------------|------------|
| â• `POST`   | `/api/v1/client`       | Criar um cliente          | âœ… `auth`   |
| âœï¸ `PATCH`  | `/api/v1/client/:id`   | Editar um cliente         | âœ… `auth`   |
| âŒ `DELETE` | `/api/v1/client/:id`   | Remover um cliente        | âœ… `auth`   |
| ğŸ” `GET`    | `/api/v1/client/:id`   | Buscar um cliente         | âœ… `auth`   |
| ğŸ“ƒ `GET`    | `/api/v1/client`       | Listar todos os clientes  | âœ… `auth`   |

---

### ğŸ›’ Produtos (`/api/v1/product`)

| MÃ©todo  | Rota                  | DescriÃ§Ã£o                 | Middleware |
|---------|-----------------------|---------------------------|------------|
| â• `POST`   | `/api/v1/product`      | Criar um produto          | âœ… `auth`   |
| âœï¸ `PATCH`  | `/api/v1/product/:id`  | Editar um produto         | âœ… `auth`   |
| âŒ `DELETE` | `/api/v1/product/:id`  | Remover um produto        | âœ… `auth`   |
| ğŸ” `GET`    | `/api/v1/product`      | Buscar um produto         | âœ… `auth`   |
| ğŸ“ƒ `GET`    | `/api/v1/products`     | Listar todos os produtos  | âœ… `auth`   |

---

### ğŸ’° Vendas (`/api/v1/sale`)

| MÃ©todo  | Rota                  | DescriÃ§Ã£o                 | Middleware |
|---------|-----------------------|---------------------------|------------|
| â• `POST`   | `/api/v1/sale`         | Registrar uma venda       | âœ… `auth`   |

---

### ğŸ”‘ AutenticaÃ§Ã£o e UsuÃ¡rios

| MÃ©todo  | Rota                  | DescriÃ§Ã£o                 | Middleware |
|---------|-----------------------|---------------------------|------------|
| ğŸ”“ `POST`   | `/api/v1/login`        | Realizar login            | âŒ          |
| â• `POST`   | `/api/v1/user`         | Criar um usuÃ¡rio          | âŒ          |

---

### ğŸ› ï¸ ObservaÃ§Ãµes

- âœ… **Middleware `auth`**: Todas as rotas protegidas exigem que seja enviado um token JWT no header da requisiÃ§Ã£o (Esse token 
recuperado atravÃ©s da rota de login)
- âŒ **Rotas pÃºblicas**: A criaÃ§Ã£o de usuÃ¡rios e login nÃ£o requerem autenticaÃ§Ã£o.


## ğŸ—‚ï¸ Esquemas da API

Abaixo estÃ£o os principais esquemas utilizados nas rotas da aplicaÃ§Ã£o para criaÃ§Ã£o de recursos. Estes esquemas sÃ£o enviados como corpo da requisiÃ§Ã£o nas rotas `POST` correspondentes.

### ğŸ§‘â€ğŸ’¼ Cliente (`/api/v1/client`)

Esquema para a criaÃ§Ã£o de um novo cliente:

```json
{
  "cpf": "12345678900",
  "name": "JoÃ£o Silva",
  "telephone": "11987654321"
}
```

### ğŸ›’ Produto (/api/v1/product)

Esquema para a criaÃ§Ã£o de um novo produto:

```json
{
  "price": 99.99,
  "name": "Produto Exemplo"
}
```

### ğŸ’° Venda (/api/v1/sale)

Esquema para registrar uma nova venda:

```json
{
  "clientId": 1,
  "productId": 2,
  "amount": 3
}
```

### ğŸ”‘ UsuÃ¡rio (/api/v1/user)

Esquema para a criaÃ§Ã£o de um novo usuÃ¡rio:

```json
{
  "fullName": "Maria Oliveira Silva Basto",
  "email": "maria.oliveira@gmail.com",
  "password": "senha1234"
}
```
### ğŸ”‘ UsuÃ¡rio (/api/v1/login)

Esquema para a criaÃ§Ã£o de um novo usuÃ¡rio:

```json
{
  "email": "maria.oliveira@gmail.com",
  "password": "senha1234"
}
```